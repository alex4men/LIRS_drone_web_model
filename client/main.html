<head>
  <title>Drones</title>
</head>

<body>

<div class="main_block">
    <div class="header">
        <h2> DRONES </h2>
    </div>

	<div class="main_frame">
		<canvas id="canvas" width="498px" height="498px">
		</canvas>
		
		<div class="right_panel">
			<div class="menu">
				<div class="menu_button active" id="perimeter_button" onclick="openRightScreen(this, 'screen_perimeter');">
					<span class="menu_button_text">Perimeter</span>
				</div>
				<div class="menu_button" id="stations_button" onclick="openRightScreen(this, 'screen_stations');">
					<span class="menu_button_text">Stations</span>
				</div>
				<div class="menu_button" id="edit_button" onclick="openRightScreen(this, 'screen_edit');">
					<span class="menu_button_text">Edit</span>
				</div>
				<div class="menu_button" id="global_params_button" onclick="openRightScreen(this, 'screen_global_params');">
					<span class="menu_button_text">Global Params</span>
				</div>
			</div>
			
			<div class="right_panel_screen">
				<div class="screen_content" id="screen_perimeter" style="display: block;">
					Perimeter
				</div>
				<div class="screen_content" id="screen_stations">
					Stations
				</div>
				<div class="screen_content" id="screen_edit">
					Edit
				</div>
				<div class="screen_content" id="screen_global_params">
					Global parameters
				</div>
			</div>
		</div>
	</div>
</div>

<script>
function openRightScreen(button, screenId) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="screen_content" and hide them
    tabcontent = document.getElementsByClassName("screen_content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="menu_button" and remove the class "active"
    tablinks = document.getElementsByClassName("menu_button");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the link that opened the tab
    document.getElementById(screenId).style.display = "block";
    button.className += " active";
}

/** Work with canvas */
function init_canvas() {
	canvas = document.getElementById('canvas');
	ctx = canvas.getContext("2d");
	preX = -1;
	preY = -1;

	canvas.addEventListener("mouseup", function (e) {
		drawPoint(e)
	}, false);
}
    
    
function drawPoint(evt) {
	var rect = canvas.getBoundingClientRect();
	var x = evt.clientX - rect.left;
	var y = evt.clientY - rect.top;
	
	// Draw a point
	ctx.fillRect(x, y, 2, 2);
	
	// Link previous and current points with line
	if (preX != -1 && preY != -1) {
		ctx.moveTo(preX, preY);
		ctx.lineTo(x, y);
		ctx.strokeStyle = "black";
		ctx.stroke();
	}

	preX = x;
	preY = y;
}
    

	
	init_canvas();
    </script>
</body>
